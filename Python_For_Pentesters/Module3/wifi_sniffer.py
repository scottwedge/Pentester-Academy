import threading,os,time,random
from scapy.all import *

def hopper(iface):
    c=1
    while True:
        time.sleep(0.5)
        os.system('iwconfig %s channel %d' %(iface,c))
        ch = int(random.random() * 14)
        if ch!=0 and ch!=c:
            c=ch
ssid = []

def getSSD(pkt):
    if pkt.haslayer(Dot11Baecon):
        if pkt.getlayer(Dot11).addr2 not in ssid:
            ssid.append(pkt.getlayer(Dot11).addr2)
            ssid = pkt.getlayer(Dot11Elt).info
            print "Network Detected: %s" %ssid

if __name__ == "__main__":
    interface = "wlan0mon"
    thread = threading.Thread(target=hopper,args=(interface,))
    thread.daemon = True
    thread.start()
    while True:
        pass
    sniff(iface=interface,prn=getSSD)



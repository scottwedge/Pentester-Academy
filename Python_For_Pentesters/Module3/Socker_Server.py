import SocketServer
import sys
import threading
import os

Addr = ('127.0.0.1',int(sys.argv[1]))

class ThreadingTCPRequestHandler(socketserver.BaseRequestHandler):

    def handle(self):

        print "Entered the handler function ",os.getpid()    

def connection():
    server = SocketServer.TCPServer(Addr,EchoHandler)
    server.serve_forever()

if __name__ == "__main__":
    server = ThreadedTCPServer(("127.0.0.1",int(sys.argv[1])),ThreadedTCPRequestHandler)
    with server:
        ip,port  = server.server_address

        server_thread = threaing.Thread(target=server.serve_forever)
        server_thread.daemon = True
        server_thread.start()

